\newcommand{\plotscorewindow}[2]{
  \foreach \modelname in #2
    {
      \addplot+[
        sharp plot,
        mark = none,
        line width = 0.8pt,
        discard if not = {model_name}{\modelname},
      ] table [
          col sep=comma,
          x = window,
          y = score,
        ]{#1};
      \addlegendentryexpanded{\expandafter\texttt\expandafter{\modelname}}
    }
}

\begin{figure}
  \centering
  \begin{tikzpicture}
    \begin{groupplot}[
        group style = {
            group size = 2 by 2,
            ylabels at = edge left,
            vertical sep = 2.5in,
            horizontal sep = 0.7in,
          },
        width = 3in,
        height = 3in,
        xlabel = Window size,
        ylabel = Score,
        xtick = {0,10,...,50},
        ytick = {-0.2,-0.1,...,1.0},
        cycle list/Paired,
        legend style = {
            draw = none,
            font = \small,
            anchor = north,
            at = {(0.5,-0.2)},
          },
        legend cell align={left},
      ]
      \nextgroupplot[title = English ($n\,{=}\,340$)]
      \plotscorewindow{../results/evaluation/model=static_language=en_window=0-50_operation=sum_similarity=cosine.csv}{\modelnameen}
      \nextgroupplot[title = Finnish ($n\,{=}\,24$)]
      \plotscorewindow{../results/evaluation/model=static_language=fi_window=0-50_operation=sum_similarity=cosine.csv}{\modelnamefi}
      \nextgroupplot[title = Croatian ($n\,{=}\,112$)]
      \plotscorewindow{../results/evaluation/model=static_language=hr_window=0-50_operation=sum_similarity=cosine.csv}{\modelnamehr}
      \nextgroupplot[title = Slovene ($n\,{=}\,111$)]
      \plotscorewindow{../results/evaluation/model=static_language=sl_window=0-50_operation=sum_similarity=cosine.csv}{\modelnamesl}
    \end{groupplot}
  \end{tikzpicture}
  \caption{The score on the evaluation dataset against window size for static embedding
    models and the composition operation of addition.}
  \label{chart:score-window-static}
\end{figure}

\begin{figure}
  \centering
  \begin{tikzpicture}
    \begin{groupplot}[
        group style = {
            group size = 2 by 2,
            ylabels at = edge left,
            vertical sep = 2.5in,
            horizontal sep = 0.7in,
          },
        width = 3in,
        height = 3in,
        xlabel = Window size,
        ylabel = Score,
        xtick = {0,1,...,10},
        ytick = {-0.2,-0.1,...,1.0},
        cycle list/Paired,
        legend style = {
            draw = none,
            font = \small,
            anchor = north,
            at = {(0.5,-0.2)},
          },
        legend cell align={left},
      ]
      \nextgroupplot[title = English ($n\,{=}\,340$)]
      \plotscorewindow{../results/evaluation/model=contextual_language=en_window=0-10_operation=sum_similarity=cosine.csv}{\modelnameen}
      \nextgroupplot[title = Finnish ($n\,{=}\,24$)]
      \plotscorewindow{../results/evaluation/model=contextual_language=fi_window=0-10_operation=sum_similarity=cosine.csv}{\modelnamefi}
      \nextgroupplot[title = Croatian ($n\,{=}\,112$)]
      \plotscorewindow{../results/evaluation/model=contextual_language=hr_window=0-10_operation=sum_similarity=cosine.csv}{\modelnamehr}
      \nextgroupplot[title = Slovene ($n\,{=}\,111$)]
      \plotscorewindow{../results/evaluation/model=contextual_language=sl_window=0-10_operation=sum_similarity=cosine.csv}{\modelnamesl}
    \end{groupplot}
  \end{tikzpicture}
  \caption{The score on the evaluation dataset against window size for contextual
    embedding models and the composition operation of addition.}
  \label{chart:score-window-contextual}
\end{figure}

\begin{figure}
  \centering
  \begin{tikzpicture}
    \begin{groupplot}[
        group style = {
            group size = 2 by 2,
            ylabels at = edge left,
            vertical sep = 2.5in,
            horizontal sep = 0.7in,
          },
        width = 3in,
        height = 3in,
        xlabel = Window size,
        ylabel = Score,
        xtick = {0,1,...,10},
        ytick = {-0.2,-0.1,...,1.0},
        cycle list/Paired,
        legend style = {
            draw = none,
            font = \small,
            anchor = north,
            at = {(0.5,-0.2)},
          },
        legend cell align={left},
      ]
      \nextgroupplot[title = {English ($n\,{=}\,340$)}]
      \plotscorewindow{../results/evaluation/model=pooled_language=en_window=0-10_operation=sum_similarity=cosine.csv}{\modelnameen}
      \nextgroupplot[title = {Finnish ($n\,{=}\,24$)}]
      \plotscorewindow{../results/evaluation/model=pooled_language=fi_window=0-10_operation=sum_similarity=cosine.csv}{\modelnamefi}
      \nextgroupplot[title = {Croatian ($n\,{=}\,112$)}]
      \plotscorewindow{../results/evaluation/model=pooled_language=hr_window=0-10_operation=sum_similarity=cosine.csv}{\modelnamehr}
      \nextgroupplot[title = {Slovene ($n\,{=}\,111$)}]
      \plotscorewindow{../results/evaluation/model=pooled_language=sl_window=0-10_operation=sum_similarity=cosine.csv}{\modelnamesl}
    \end{groupplot}
  \end{tikzpicture}
  \caption{The score on the evaluation dataset against window size for pooled embedding
    models and the composition operation of addition.}
  \label{chart:score-window-pooled}
\end{figure}
